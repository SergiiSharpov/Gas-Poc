(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{10:function(e){e.exports=JSON.parse('{"models":{"drill":"./models/main/Pump.FBX","port":"./models/main/PortLast.FBX","ship":"./models/main/Ship.FBX","smallPlant":"./models/main/Plant01.FBX","largePlant":"./models/main/Plant02.FBX"},"env":{"default":["./env/posx.jpg","./env/negx.jpg","./env/posy.jpg","./env/negy.jpg","./env/posz.jpg","./env/negz.jpg"]},"textures":{"waternormals":"./textures/waternormals.jpg"}}')},13:function(e,t,n){"use strict";n.r(t);var a=n(6),r=n.n(a),o=n(1),i=n(2),l=function(e,t){var n,a,r,i,l,s=this;void 0===t&&console.warn('THREE.OrbitControls: The second parameter "domElement" is now mandatory.'),t===document&&console.error('THREE.OrbitControls: "document" should not be used as the target "domElement". Please use "renderer.domElement" instead.'),this.object=e,this.domElement=t,this.enabled=!0,this.target=new o.wb,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.enableDamping=!1,this.dampingFactor=.05,this.enableZoom=!0,this.zoomSpeed=1,this.enableRotate=!0,this.rotateSpeed=1,this.enablePan=!0,this.panSpeed=1,this.screenSpacePanning=!1,this.keyPanSpeed=7,this.autoRotate=!1,this.autoRotateSpeed=2,this.enableKeys=!0,this.keys={LEFT:37,UP:38,RIGHT:39,BOTTOM:40},this.mouseButtons={LEFT:o.E.ROTATE,MIDDLE:o.E.DOLLY,RIGHT:o.E.PAN},this.touches={ONE:o.ob.ROTATE,TWO:o.ob.DOLLY_PAN},this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=function(){return v.phi},this.getAzimuthalAngle=function(){return v.theta},this.saveState=function(){c.target0.copy(c.target),c.position0.copy(c.object.position),c.zoom0=c.object.zoom},this.reset=function(){c.target.copy(c.target0),c.object.position.copy(c.position0),c.object.zoom=c.zoom0,c.object.updateProjectionMatrix(),c.dispatchEvent(u),c.update(),d=p.NONE},this.getClampInstanceInfo=function(e){var t=(new o.e).setFromObject(e),n=new o.lb;t.getBoundingSphere(n);var a=(new o.wb).subVectors(s.object.position,s.target),r=n.radius/Math.tan(s.object.fov/2*Math.PI/180);return{position:(new o.wb).addVectors(n.center,a.setLength(r)).clone(),target:n.center.clone()}},this.clampInstance=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=(new o.e).setFromObject(e),a=new o.lb;n.getBoundingSphere(a);var r=(new o.wb).subVectors(s.object.position,s.target),i=a.radius/Math.tan(s.object.fov/2*Math.PI/180),l=(new o.wb).addVectors(a.center,r.setLength(i));if(s.object.position.copy(l),s.target.copy(a.center),s.target.y=Math.max(s.target.y,.01),!t)return!1;var c=2*a.radius;t.shadow.camera.far=3*a.radius,t.shadow.camera.left=-c,t.shadow.camera.right=c,t.shadow.camera.top=c,t.shadow.camera.bottom=-c,t.target.position.copy(n.getCenter()),t.position.set(a.center.x,1.5*n.max.y,a.center.z),t.castShadow=!0},this.update=(n=new o.wb,a=(new o.ab).setFromUnitVectors(e.up,new o.wb(0,1,0)),r=a.clone().inverse(),i=new o.wb,l=new o.ab,function(){var e=c.object.position;return n.copy(e).sub(c.target),n.applyQuaternion(a),v.setFromVector3(n),c.autoRotate&&d===p.NONE&&A(2*Math.PI/60/60*c.autoRotateSpeed),c.enableDamping?(v.theta+=g.theta*c.dampingFactor,v.phi+=g.phi*c.dampingFactor):(v.theta+=g.theta,v.phi+=g.phi),v.theta=Math.max(c.minAzimuthAngle,Math.min(c.maxAzimuthAngle,v.theta)),v.phi=Math.max(c.minPolarAngle,Math.min(c.maxPolarAngle,v.phi)),v.makeSafe(),v.radius*=b,v.radius=Math.max(c.minDistance,Math.min(c.maxDistance,v.radius)),!0===c.enableDamping?c.target.addScaledVector(w,c.dampingFactor):c.target.add(w),n.setFromSpherical(v),n.applyQuaternion(r),e.copy(c.target).add(n),c.object.lookAt(c.target),!0===c.enableDamping?(g.theta*=1-c.dampingFactor,g.phi*=1-c.dampingFactor,w.multiplyScalar(1-c.dampingFactor)):(g.set(0,0,0),w.set(0,0,0)),b=1,!!(y||i.distanceToSquared(c.object.position)>m||8*(1-l.dot(c.object.quaternion))>m)&&(c.dispatchEvent(u),i.copy(c.object.position),l.copy(c.object.quaternion),y=!1,!0)}),this.dispose=function(){c.domElement.removeEventListener("contextmenu",te,!1),c.domElement.removeEventListener("mousedown",Z,!1),c.domElement.removeEventListener("wheel",K,!1),c.domElement.removeEventListener("touchstart",Q,!1),c.domElement.removeEventListener("touchend",ee,!1),c.domElement.removeEventListener("touchmove",$,!1),document.removeEventListener("mousemove",G,!1),document.removeEventListener("mouseup",J,!1),c.domElement.removeEventListener("keydown",q,!1)};var c=this,u={type:"change"},h={type:"start"},f={type:"end"},p={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6},d=p.NONE,m=1e-6,v=new o.mb,g=new o.mb,b=1,w=new o.wb,y=!1,P=new o.vb,x=new o.vb,_=new o.vb,E=new o.vb,O=new o.vb,j=new o.vb,S=new o.vb,T=new o.vb,L=new o.vb;function R(){return Math.pow(.95,c.zoomSpeed)}function A(e){g.theta-=e}function M(e){g.phi-=e}var k,N=(k=new o.wb,function(e,t){k.setFromMatrixColumn(t,0),k.multiplyScalar(-e),w.add(k)}),F=function(){var e=new o.wb;return function(t,n){!0===c.screenSpacePanning?e.setFromMatrixColumn(n,1):(e.setFromMatrixColumn(n,0),e.crossVectors(c.object.up,e)),e.multiplyScalar(t),w.add(e)}}(),z=function(){var e=new o.wb;return function(t,n){var a=c.domElement;if(c.object.isPerspectiveCamera){var r=c.object.position;e.copy(r).sub(c.target);var o=e.length();o*=Math.tan(c.object.fov/2*Math.PI/180),N(2*t*o/a.clientHeight,c.object.matrix),F(2*n*o/a.clientHeight,c.object.matrix)}else c.object.isOrthographicCamera?(N(t*(c.object.right-c.object.left)/c.object.zoom/a.clientWidth,c.object.matrix),F(n*(c.object.top-c.object.bottom)/c.object.zoom/a.clientHeight,c.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),c.enablePan=!1)}}();function C(e){c.object.isPerspectiveCamera?b/=e:c.object.isOrthographicCamera?(c.object.zoom=Math.max(c.minZoom,Math.min(c.maxZoom,c.object.zoom*e)),c.object.updateProjectionMatrix(),y=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),c.enableZoom=!1)}function U(e){c.object.isPerspectiveCamera?b*=e:c.object.isOrthographicCamera?(c.object.zoom=Math.max(c.minZoom,Math.min(c.maxZoom,c.object.zoom/e)),c.object.updateProjectionMatrix(),y=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),c.enableZoom=!1)}function D(e){P.set(e.clientX,e.clientY)}function I(e){E.set(e.clientX,e.clientY)}function Y(e){if(1==e.touches.length)P.set(e.touches[0].pageX,e.touches[0].pageY);else{var t=.5*(e.touches[0].pageX+e.touches[1].pageX),n=.5*(e.touches[0].pageY+e.touches[1].pageY);P.set(t,n)}}function V(e){if(1==e.touches.length)E.set(e.touches[0].pageX,e.touches[0].pageY);else{var t=.5*(e.touches[0].pageX+e.touches[1].pageX),n=.5*(e.touches[0].pageY+e.touches[1].pageY);E.set(t,n)}}function H(e){var t=e.touches[0].pageX-e.touches[1].pageX,n=e.touches[0].pageY-e.touches[1].pageY,a=Math.sqrt(t*t+n*n);S.set(0,a)}function B(e){if(1==e.touches.length)x.set(e.touches[0].pageX,e.touches[0].pageY);else{var t=.5*(e.touches[0].pageX+e.touches[1].pageX),n=.5*(e.touches[0].pageY+e.touches[1].pageY);x.set(t,n)}_.subVectors(x,P).multiplyScalar(c.rotateSpeed);var a=c.domElement;A(2*Math.PI*_.x/a.clientHeight),M(2*Math.PI*_.y/a.clientHeight),P.copy(x)}function X(e){if(1==e.touches.length)O.set(e.touches[0].pageX,e.touches[0].pageY);else{var t=.5*(e.touches[0].pageX+e.touches[1].pageX),n=.5*(e.touches[0].pageY+e.touches[1].pageY);O.set(t,n)}j.subVectors(O,E).multiplyScalar(c.panSpeed),z(j.x,j.y),E.copy(O)}function W(e){var t=e.touches[0].pageX-e.touches[1].pageX,n=e.touches[0].pageY-e.touches[1].pageY,a=Math.sqrt(t*t+n*n);T.set(0,a),L.set(0,Math.pow(T.y/S.y,c.zoomSpeed)),C(L.y),S.copy(T)}function Z(e){if(!1!==c.enabled){switch(e.preventDefault(),c.domElement.focus?c.domElement.focus():window.focus(),e.button){case 0:switch(c.mouseButtons.LEFT){case o.E.ROTATE:if(e.ctrlKey||e.metaKey||e.shiftKey){if(!1===c.enablePan)return;I(e),d=p.PAN}else{if(!1===c.enableRotate)return;D(e),d=p.ROTATE}break;case o.E.PAN:if(e.ctrlKey||e.metaKey||e.shiftKey){if(!1===c.enableRotate)return;D(e),d=p.ROTATE}else{if(!1===c.enablePan)return;I(e),d=p.PAN}break;default:d=p.NONE}break;case 1:switch(c.mouseButtons.MIDDLE){case o.E.DOLLY:if(!1===c.enableZoom)return;!function(e){S.set(e.clientX,e.clientY)}(e),d=p.DOLLY;break;default:d=p.NONE}break;case 2:switch(c.mouseButtons.RIGHT){case o.E.ROTATE:if(!1===c.enableRotate)return;D(e),d=p.ROTATE;break;case o.E.PAN:if(!1===c.enablePan)return;I(e),d=p.PAN;break;default:d=p.NONE}}d!==p.NONE&&(document.addEventListener("mousemove",G,!1),document.addEventListener("mouseup",J,!1),c.dispatchEvent(h))}}function G(e){if(!1!==c.enabled)switch(e.preventDefault(),d){case p.ROTATE:if(!1===c.enableRotate)return;!function(e){x.set(e.clientX,e.clientY),_.subVectors(x,P).multiplyScalar(c.rotateSpeed);var t=c.domElement;A(2*Math.PI*_.x/t.clientHeight),M(2*Math.PI*_.y/t.clientHeight),P.copy(x),c.update()}(e);break;case p.DOLLY:if(!1===c.enableZoom)return;!function(e){T.set(e.clientX,e.clientY),L.subVectors(T,S),L.y>0?C(R()):L.y<0&&U(R()),S.copy(T),c.update()}(e);break;case p.PAN:if(!1===c.enablePan)return;!function(e){O.set(e.clientX,e.clientY),j.subVectors(O,E).multiplyScalar(c.panSpeed),z(j.x,j.y),E.copy(O),c.update()}(e)}}function J(e){!1!==c.enabled&&(document.removeEventListener("mousemove",G,!1),document.removeEventListener("mouseup",J,!1),c.dispatchEvent(f),d=p.NONE)}function K(e){!1===c.enabled||!1===c.enableZoom||d!==p.NONE&&d!==p.ROTATE||(e.preventDefault(),e.stopPropagation(),c.dispatchEvent(h),function(e){e.deltaY<0?U(R()):e.deltaY>0&&C(R()),c.update()}(e),c.dispatchEvent(f))}function q(e){!1!==c.enabled&&!1!==c.enableKeys&&!1!==c.enablePan&&function(e){var t=!1;switch(e.keyCode){case c.keys.UP:z(0,c.keyPanSpeed),t=!0;break;case c.keys.BOTTOM:z(0,-c.keyPanSpeed),t=!0;break;case c.keys.LEFT:z(c.keyPanSpeed,0),t=!0;break;case c.keys.RIGHT:z(-c.keyPanSpeed,0),t=!0}t&&(e.preventDefault(),c.update())}(e)}function Q(e){if(!1!==c.enabled){switch(e.preventDefault(),e.touches.length){case 1:switch(c.touches.ONE){case o.ob.ROTATE:if(!1===c.enableRotate)return;Y(e),d=p.TOUCH_ROTATE;break;case o.ob.PAN:if(!1===c.enablePan)return;V(e),d=p.TOUCH_PAN;break;default:d=p.NONE}break;case 2:switch(c.touches.TWO){case o.ob.DOLLY_PAN:if(!1===c.enableZoom&&!1===c.enablePan)return;!function(e){c.enableZoom&&H(e),c.enablePan&&V(e)}(e),d=p.TOUCH_DOLLY_PAN;break;case o.ob.DOLLY_ROTATE:if(!1===c.enableZoom&&!1===c.enableRotate)return;!function(e){c.enableZoom&&H(e),c.enableRotate&&Y(e)}(e),d=p.TOUCH_DOLLY_ROTATE;break;default:d=p.NONE}break;default:d=p.NONE}d!==p.NONE&&c.dispatchEvent(h)}}function $(e){if(!1!==c.enabled)switch(e.preventDefault(),e.stopPropagation(),d){case p.TOUCH_ROTATE:if(!1===c.enableRotate)return;B(e),c.update();break;case p.TOUCH_PAN:if(!1===c.enablePan)return;X(e),c.update();break;case p.TOUCH_DOLLY_PAN:if(!1===c.enableZoom&&!1===c.enablePan)return;!function(e){c.enableZoom&&W(e),c.enablePan&&X(e)}(e),c.update();break;case p.TOUCH_DOLLY_ROTATE:if(!1===c.enableZoom&&!1===c.enableRotate)return;!function(e){c.enableZoom&&W(e),c.enableRotate&&B(e)}(e),c.update();break;default:d=p.NONE}}function ee(e){!1!==c.enabled&&(c.dispatchEvent(f),d=p.NONE)}function te(e){!1!==c.enabled&&e.preventDefault()}c.domElement.addEventListener("contextmenu",te,!1),c.domElement.addEventListener("mousedown",Z,!1),c.domElement.addEventListener("wheel",K,!1),c.domElement.addEventListener("touchstart",Q,!1),c.domElement.addEventListener("touchend",ee,!1),c.domElement.addEventListener("touchmove",$,!1),c.domElement.addEventListener("keydown",q,!1),-1===c.domElement.tabIndex&&(c.domElement.tabIndex=0),this.update()};(l.prototype=Object.create(o.r.prototype)).constructor=l;var s=function(e,t){l.call(this,e,t),this.mouseButtons.LEFT=o.E.PAN,this.mouseButtons.RIGHT=o.E.ROTATE,this.touches.ONE=o.ob.PAN,this.touches.TWO=o.ob.DOLLY_ROTATE};s.prototype=Object.create(o.r.prototype),s.prototype.constructor=s;var c=n(12),u=n(7),h=n(5),f=n(8);function p(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var m=function(){};CanvasRenderingContext2D.prototype.roundRect=function(e,t,n,a,r){return n<2*r&&(r=n/2),a<2*r&&(r=a/2),this.beginPath(),this.moveTo(e+r,t),this.arcTo(e+n,t,e+n,t+a,r),this.arcTo(e+n,t+a,e,t+a,r),this.arcTo(e,t+a,e,t,r),this.arcTo(e,t,e+n,t,r),this.closePath(),this};var v=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),d(this,"labels",[]),d(this,"size",new o.vb(window.innerWidth,window.innerHeight)),d(this,"camera",new o.S(window.innerWidth/-2,window.innerWidth/2,window.innerHeight/2,window.innerHeight/-2,1,1e3)),d(this,"scene",new o.hb),d(this,"originCamera",null)}var t,n,a;return t=e,(n=[{key:"setCamera",value:function(e){this.originCamera=e}},{key:"addLabel",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new o.wb,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new o.vb,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:m,a=new o.V(t.x,t.y,1,1),r=document.createElement("canvas");r.width=t.x,r.height=t.y;var i=r.getContext("2d"),l=new o.K({color:16777215,map:new o.h(r,o.rb,o.i,o.i,o.O,o.A,o.cb,o.ub,0),transparent:!0,opacity:1}),s=new o.J(a,l);this.scene.add(s);var c={position:e,size:t,onDraw:n,plane:s,canvas:r,ctx:i};return console.log(c),this.labels.push(c),c}},{key:"setSize",value:function(e,t){var n=e/t;this.camera.left=-t*n/2,this.camera.right=t*n/2,this.camera.top=t/2,this.camera.bottom=-t/2,this.camera.updateProjectionMatrix()}},{key:"update",value:function(){var e=!0,t=!1,n=void 0;try{for(var a,r=this.labels[Symbol.iterator]();!(e=(a=r.next()).done);e=!0){var o=a.value;o.onDraw(o.canvas,o.ctx,o.plane.material.map,o);var i=o.position.clone().project(this.originCamera);o.plane.position.x=i.x*this.camera.right,o.plane.position.y=i.y*this.camera.top,o.plane.position.z=-1e3*i.z,o.plane.scale.set(i.z,i.z,i.z),o.plane.updateMatrix()}}catch(e){t=!0,n=e}finally{try{e||null==r.return||r.return()}finally{if(t)throw n}}}}])&&p(t.prototype,n),a&&p(t,a),e}()),g=function(e,t,n){var a=new c.a(e),r=new c.a(e),o=new u.a(t,n),i=new u.a(v.scene,v.camera);i.clear=!1,i.clearDepth=!0;var l=new h.a(f.a);l.clear=!1,a.addPass(o),a.addPass(l),r.addPass(i);return{render:function(){a.render(),r.render()},updateSize:function(){a.setPixelRatio(window.devicePixelRatio),a.setSize(e.domElement.clientWidth,e.domElement.clientHeight);var t=window.devicePixelRatio;l.material.uniforms.resolution.value.x=1/(e.domElement.offsetWidth*t),l.material.uniforms.resolution.value.y=1/(e.domElement.offsetHeight*t)}}},b=n(9),w=n.n(b),y=function(){var e=/^[og]\s*(.+)?/,t=/^mtllib /,n=/^usemtl /;function a(){var e={objects:[],object:{},vertices:[],normals:[],colors:[],uvs:[],materialLibraries:[],startObject:function(e,t){if(this.object&&!1===this.object.fromDeclaration)return this.object.name=e,void(this.object.fromDeclaration=!1!==t);var n=this.object&&"function"==typeof this.object.currentMaterial?this.object.currentMaterial():void 0;if(this.object&&"function"==typeof this.object._finalize&&this.object._finalize(!0),this.object={name:e||"",fromDeclaration:!1!==t,geometry:{vertices:[],normals:[],colors:[],uvs:[]},materials:[],smooth:!0,startMaterial:function(e,t){var n=this._finalize(!1);n&&(n.inherited||n.groupCount<=0)&&this.materials.splice(n.index,1);var a={index:this.materials.length,name:e||"",mtllib:Array.isArray(t)&&t.length>0?t[t.length-1]:"",smooth:void 0!==n?n.smooth:this.smooth,groupStart:void 0!==n?n.groupEnd:0,groupEnd:-1,groupCount:-1,inherited:!1,clone:function(e){var t={index:"number"==typeof e?e:this.index,name:this.name,mtllib:this.mtllib,smooth:this.smooth,groupStart:0,groupEnd:-1,groupCount:-1,inherited:!1};return t.clone=this.clone.bind(t),t}};return this.materials.push(a),a},currentMaterial:function(){if(this.materials.length>0)return this.materials[this.materials.length-1]},_finalize:function(e){var t=this.currentMaterial();if(t&&-1===t.groupEnd&&(t.groupEnd=this.geometry.vertices.length/3,t.groupCount=t.groupEnd-t.groupStart,t.inherited=!1),e&&this.materials.length>1)for(var n=this.materials.length-1;n>=0;n--)this.materials[n].groupCount<=0&&this.materials.splice(n,1);return e&&0===this.materials.length&&this.materials.push({name:"",smooth:this.smooth}),t}},n&&n.name&&"function"==typeof n.clone){var a=n.clone(0);a.inherited=!0,this.object.materials.push(a)}this.objects.push(this.object)},finalize:function(){this.object&&"function"==typeof this.object._finalize&&this.object._finalize(!0)},parseVertexIndex:function(e,t){var n=parseInt(e,10);return 3*(n>=0?n-1:n+t/3)},parseNormalIndex:function(e,t){var n=parseInt(e,10);return 3*(n>=0?n-1:n+t/3)},parseUVIndex:function(e,t){var n=parseInt(e,10);return 2*(n>=0?n-1:n+t/2)},addVertex:function(e,t,n){var a=this.vertices,r=this.object.geometry.vertices;r.push(a[e+0],a[e+1],a[e+2]),r.push(a[t+0],a[t+1],a[t+2]),r.push(a[n+0],a[n+1],a[n+2])},addVertexPoint:function(e){var t=this.vertices;this.object.geometry.vertices.push(t[e+0],t[e+1],t[e+2])},addVertexLine:function(e){var t=this.vertices;this.object.geometry.vertices.push(t[e+0],t[e+1],t[e+2])},addNormal:function(e,t,n){var a=this.normals,r=this.object.geometry.normals;r.push(a[e+0],a[e+1],a[e+2]),r.push(a[t+0],a[t+1],a[t+2]),r.push(a[n+0],a[n+1],a[n+2])},addColor:function(e,t,n){var a=this.colors,r=this.object.geometry.colors;r.push(a[e+0],a[e+1],a[e+2]),r.push(a[t+0],a[t+1],a[t+2]),r.push(a[n+0],a[n+1],a[n+2])},addUV:function(e,t,n){var a=this.uvs,r=this.object.geometry.uvs;r.push(a[e+0],a[e+1]),r.push(a[t+0],a[t+1]),r.push(a[n+0],a[n+1])},addUVLine:function(e){var t=this.uvs;this.object.geometry.uvs.push(t[e+0],t[e+1])},addFace:function(e,t,n,a,r,o,i,l,s){var c=this.vertices.length,u=this.parseVertexIndex(e,c),h=this.parseVertexIndex(t,c),f=this.parseVertexIndex(n,c);if(this.addVertex(u,h,f),this.colors.length>0&&this.addColor(u,h,f),void 0!==a&&""!==a){var p=this.uvs.length;u=this.parseUVIndex(a,p),h=this.parseUVIndex(r,p),f=this.parseUVIndex(o,p),this.addUV(u,h,f)}if(void 0!==i&&""!==i){var d=this.normals.length;u=this.parseNormalIndex(i,d),h=i===l?u:this.parseNormalIndex(l,d),f=i===s?u:this.parseNormalIndex(s,d),this.addNormal(u,h,f)}},addPointGeometry:function(e){this.object.geometry.type="Points";for(var t=this.vertices.length,n=0,a=e.length;n<a;n++)this.addVertexPoint(this.parseVertexIndex(e[n],t))},addLineGeometry:function(e,t){this.object.geometry.type="Line";for(var n=this.vertices.length,a=this.uvs.length,r=0,o=e.length;r<o;r++)this.addVertexLine(this.parseVertexIndex(e[r],n));for(var i=0,l=t.length;i<l;i++)this.addUVLine(this.parseUVIndex(t[i],a))}};return e.startObject("",!1),e}function r(e){o.C.call(this,e),this.materials=null}return r.prototype=Object.assign(Object.create(o.C.prototype),{constructor:r,load:function(e,t,n,a){var r=this,i=new o.s(r.manager);i.setPath(this.path),i.load(e,(function(e){t(r.parse(e))}),n,a)},setMaterials:function(e){return this.materials=e,this},parse:function(r){console.time("OBJLoader");var i=new a;-1!==r.indexOf("\r\n")&&(r=r.replace(/\r\n/g,"\n")),-1!==r.indexOf("\\\n")&&(r=r.replace(/\\\n/g,""));for(var l=r.split("\n"),s="",c="",u=[],h="function"==typeof"".trimLeft,f=0,p=l.length;f<p;f++)if(s=l[f],0!==(s=h?s.trimLeft():s.trim()).length&&"#"!==(c=s.charAt(0)))if("v"===c){var d=s.split(/\s+/);switch(d[0]){case"v":i.vertices.push(parseFloat(d[1]),parseFloat(d[2]),parseFloat(d[3])),d.length>=7&&i.colors.push(parseFloat(d[4]),parseFloat(d[5]),parseFloat(d[6]));break;case"vn":i.normals.push(parseFloat(d[1]),parseFloat(d[2]),parseFloat(d[3]));break;case"vt":i.uvs.push(parseFloat(d[1]),parseFloat(d[2]))}}else if("f"===c){for(var m=s.substr(1).trim().split(/\s+/),v=[],g=0,b=m.length;g<b;g++){var w=m[g];if(w.length>0){var y=w.split("/");v.push(y)}}for(var P=v[0],x=1,_=v.length-1;x<_;x++){var E=v[x],O=v[x+1];i.addFace(P[0],E[0],O[0],P[1],E[1],O[1],P[2],E[2],O[2])}}else if("l"===c){var j=s.substring(1).trim().split(" "),S=[],T=[];if(-1===s.indexOf("/"))S=j;else for(var L=0,R=j.length;L<R;L++){var A=j[L].split("/");""!==A[0]&&S.push(A[0]),""!==A[1]&&T.push(A[1])}i.addLineGeometry(S,T)}else if("p"===c){var M=s.substr(1).trim().split(" ");i.addPointGeometry(M)}else if(null!==(u=e.exec(s))){var k=(" "+u[0].substr(1).trim()).substr(1);i.startObject(k)}else if(n.test(s))i.object.startMaterial(s.substring(7).trim(),i.materialLibraries);else if(t.test(s))i.materialLibraries.push(s.substring(7).trim());else{if("s"!==c){if("\0"===s)continue;throw new Error('THREE.OBJLoader: Unexpected line: "'+s+'"')}if((u=s.split(" ")).length>1){var N=u[1].trim().toLowerCase();i.object.smooth="0"!==N&&"off"!==N}else i.object.smooth=!0;var F=i.object.currentMaterial();F&&(F.smooth=i.object.smooth)}i.finalize();var z=new o.v;z.materialLibraries=[].concat(i.materialLibraries);for(var C=0,U=i.objects.length;C<U;C++){var D=i.objects[C],I=D.geometry,Y=D.materials,V="Line"===I.type,H="Points"===I.type,B=!1;if(0!==I.vertices.length){var X=new o.g;X.setAttribute("position",new o.t(I.vertices,3)),I.normals.length>0?X.setAttribute("normal",new o.t(I.normals,3)):X.computeVertexNormals(),I.colors.length>0&&(B=!0,X.setAttribute("color",new o.t(I.colors,3))),I.uvs.length>0&&X.setAttribute("uv",new o.t(I.uvs,2));for(var W=[],Z=0,G=Y.length;Z<G;Z++){var J=Y[Z],K=void 0;if(null!==this.materials)if(K=this.materials.create(J.name),!V||!K||K instanceof o.y){if(H&&K&&!(K instanceof o.Y)){var q=new o.Y({size:10,sizeAttenuation:!1});o.F.prototype.copy.call(q,K),q.color.copy(K.color),q.map=K.map,K=q}}else{var Q=new o.y;o.F.prototype.copy.call(Q,K),Q.color.copy(K.color),K=Q}K||((K=V?new o.y:H?new o.Y({size:1,sizeAttenuation:!1}):new o.M).name=J.name),K.flatShading=!J.smooth,K.vertexColors=B?o.zb:o.P,W.push(K)}var $=void 0;if(W.length>1){for(var ee=0,te=Y.length;ee<te;ee++){var ne=Y[ee];X.addGroup(ne.groupStart,ne.groupCount,ee)}$=V?new o.z(X,W):H?new o.X(X,W):new o.J(X,W)}else $=V?new o.z(X,W[0]):H?new o.X(X,W[0]):new o.J(X,W[0]);$.name=D.name,z.add($)}}return console.timeEnd("OBJLoader"),z}}),r}(),P=function(){},x=n(10),_=n(11);function E(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],a=!0,r=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(a=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);a=!0);}catch(e){r=!0,o=e}finally{try{a||null==l.return||l.return()}finally{if(r)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function O(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var j={models:{},env:[],textures:{}},S=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,a;return t=e,a=[{key:"load",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"./static",n=arguments.length>1?arguments[1]:void 0,a=Object.entries(x.models),r=Object.entries(x.env),o=Object.entries(x.textures),i=a.length+r.length+o.length,l=location.pathname.match(/\.html$/)?w.a.dirname(location.pathname):location.pathname,s=new FontFace("LabelRoboto","url(".concat(w.a.resolve(l,t,"./Roboto.woff2"),")"));return Promise.all([e.loadModels(w.a.resolve(l,t),n,a,i),e.loadEnv(w.a.resolve(l,t),n,r,i),e.loadTexture(w.a.resolve(l,t),n,o,i),s.load().then((function(e){document.fonts.add(e)}))])}},{key:"loadTexture",value:function(e,t,n,a){return new Promise((function(r,i){var l=t||P,s=0,c=new o.qb,u=n.map((function(t){var n=E(t,2),r=n[0],i=n[1];return new Promise((function(t,n){c.load(w.a.resolve(e,i),(function(e){return n=e,i=r,c=t,s++,l(s/a),n.wrapS=n.wrapT=o.gb,j.textures[i]=n,void c();var n,i,c}),P,n)}))}));Promise.all(u).then(r).catch(i)}))}},{key:"loadEnv",value:function(e,t,n,a){return new Promise((function(r,i){var l=t||P,s=0,c=new o.l,u=n.map((function(t){var n=E(t,2),r=n[0],o=n[1];return new Promise((function(t,n){c.load(o.map((function(t){return w.a.resolve(e,t)})),(function(e){return n=e,o=r,i=t,s++,l(s/a),j.env[o]=n,void i();var n,o,i}),P,n)}))}));Promise.all(u).then(r).catch(i)}))}},{key:"loadModels",value:function(e,t,n,a){return new Promise((function(r,i){var l=t||P,s=0,c=new y,u=new _.a,h=function(e,t,n){s++,l(s/a),function(e){var t=e.scene||e;if(!t.traverse)return e;t.animations&&(t.mixer=new o.c(t));var n=new o.wb;(new o.e).setFromObject(t).getCenter(n),t.position.sub(n),t.position.y=1}(e),j.models[t]=e,n()},f=n.map((function(t){var n=E(t,2),a=n[0],r=n[1];return new Promise((function(t,n){(r.match(/\.fbx$/i)?u:c).load(w.a.resolve(e,r),(function(e){return h(e,a,t)}),P,n)}))}));Promise.all(f).then(r).catch(i)}))}},{key:"get",value:function(){return j}}],(n=null)&&O(t.prototype,n),a&&O(t,a),e}();function T(e){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function L(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function R(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function A(e,t,n){return(A="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var a=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=M(e)););return e}(e,t);if(a){var r=Object.getOwnPropertyDescriptor(a,t);return r.get?r.get.call(n):r.value}})(e,t,n||e)}function M(e){return(M=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function k(e,t){return(k=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function N(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var F=function(e){function t(){var e,n,a,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,e=!(a=M(t).call(this))||"object"!==T(a)&&"function"!=typeof a?R(n):a,N(R(e),"animations",[]),N(R(e),"mixer",null),N(R(e),"isPlaying",!1),N(R(e),"animationSpeed",1),N(R(e),"animationOffset",0),N(R(e),"light",null),N(R(e),"material",new o.N({color:11197951,roughness:.2,metalness:1,side:o.o,transparent:!0,envMap:S.get().env.default})),e.frustumCulled=!0,e.mixer=r&&r.mixer?r.mixer:i||new o.c(R(e)),e.modelOrigin=r,e.model=e.modelOrigin,e}var n,a,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&k(e,t)}(t,e),n=t,(a=[{key:"play",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(!this.isPlaying){var t=this.mixer.clipAction(this.animations[e],this.children[0]);t.timeScale=this.animationSpeed,t.time=this.animationOffset,t.play()}this.isPlaying=!0}},{key:"stop",value:function(e){this.isPlaying&&this.mixer.clipAction(this.animations[e]).stop(),this.isPlaying=!1}},{key:"updateMixer",value:function(e){this.mixer&&this.mixer.update(e)}},{key:"dispose",value:function(){this.model=null,A(M(t.prototype),"dispose",this).call(this)}},{key:"clone",value:function(){var e,n=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return e=new t(n?this.modelOrigin:null,this.mixer),e.position.copy(this.position),e.rotation.copy(this.rotation),e.scale.copy(this.scale),e}},{key:"model",set:function(e){for(var t=this;this.children.length;){var n=this.children[0];this.remove(n),n.dispose()}if(e){var a=e.clone();a.traverse((function(e){e.isMesh&&(e.material=t.material,e.material.onBeforeCompile=function(e){e.fragmentShader=C,e.vertexShader=z},e.geometry.computeBoundingBox())})),e.animations&&(this.animations=e.animations.map((function(e){return e.clone()}))),this.add(a)}}}])&&L(n.prototype,a),r&&L(n,r),t}(o.R),z="\n#define STANDARD\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\n\nvarying vec3 fresnelPosition;\nvarying vec3 fresnelNormal;\n\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n\t\n    vec4 viewPosition = modelViewMatrix * vec4( position, 1.0 );\n    vec4 viewCameraPosition = projectionMatrix * modelMatrix * vec4(cameraPosition, 1.0);\n    vec3 viewNormal = normalize(mat3( modelViewMatrix[0].xyz, modelViewMatrix[1].xyz, modelViewMatrix[2].xyz ) * normal);\n    \n    fresnelNormal = viewNormal;\n    fresnelPosition = normalize(viewPosition.xyz);\n}\n",C="\n#define STANDARD\n#ifdef PHYSICAL\n\t#define REFLECTIVITY\n\t#define CLEARCOAT\n\t#define TRANSPARENCY\n#endif\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifdef TRANSPARENCY\n\tuniform float transparency;\n#endif\n#ifdef REFLECTIVITY\n\tuniform float reflectivity;\n#endif\n#ifdef CLEARCOAT\n\tuniform float clearcoat;\n\tuniform float clearcoatRoughness;\n#endif\n#ifdef USE_SHEEN\n\tuniform vec3 sheen;\n#endif\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <bsdfs>\n#include <cube_uv_reflection_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <lights_pars_begin>\n#include <lights_physical_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <clearcoat_normalmap_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\n\nvarying vec3 fresnelPosition;\nvarying vec3 fresnelNormal;\n\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <clearcoat_normal_fragment_begin>\n\t#include <clearcoat_normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#ifdef TRANSPARENCY\n\t\tdiffuseColor.a *= saturate( 1. - transparency + linearToRelativeLuminance( reflectedLight.directSpecular + reflectedLight.indirectSpecular ) );\n\t#endif\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n\t\n\tvec3 viewDir = (viewMatrix * vec4(cameraPosition, 1.0)).xyz - fresnelPosition;\n    float fresnel = 0.0 + 1.0 * pow(1.0 - saturate(dot(fresnelNormal, viewDir)), 4.0);\n    \n    gl_FragColor.rgb += vec3(0.0, 0.1, 1.0) * fresnel;\n}\n";function U(e){return(U="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function D(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function I(e,t){return!t||"object"!==U(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Y(e){return(Y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function V(e,t){return(V=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var H=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),e=I(this,Y(t).call(this));var n=new o.N({metalness:0,roughness:.8,map:t.getCanvasTexture()}),a=new o.J(new o.U(1e3,1e3,24,24),n);return a.rotation.x=.5*-Math.PI,a.frustumCulled=!1,e.frustumCulled=!1,e.add(a),e}var n,a,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&V(e,t)}(t,e),n=t,r=[{key:"getCanvasTexture",value:function(){var e=document.createElement("canvas");e.width=512,e.height=512;var t=e.getContext("2d");t.strokeStyle="#0088ff",t.fillStyle="#ffffff",t.fillRect(0,0,512,512),t.lineWidth=4,t.strokeRect(0,0,512,512),t.lineWidth=1;for(var n=0;n<16;n++)for(var a=0;a<16;a++)t.strokeRect(32*n,32*a,32,32);var r=new o.h(e,o.rb,o.gb,o.gb);return r.repeat.set(1e3,1e3),r.needsUpdate=!0,r}}],(a=null)&&D(n.prototype,a),r&&D(n,r),t}(o.R);function B(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],a=!0,r=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(a=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);a=!0);}catch(e){r=!0,o=e}finally{try{a||null==l.return||l.return()}finally{if(r)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var X=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i.a.Easing.Quadratic.Out;return new i.a.Tween([0]).to([1],t).easing(n).onUpdate((function(t){var n=B(t,1)[0];return e(n)}))};function W(e){return(W="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Z(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function G(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function J(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function K(e,t,n){return(K="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var a=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=q(e)););return e}(e,t);if(a){var r=Object.getOwnPropertyDescriptor(a,t);return r.get?r.get.call(n):r.value}})(e,t,n||e)}function q(e){return(q=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Q(e,t){return(Q=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function $(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ee=new o.wb(0,1,0),te=function(e,t,n,a){var r=new o.vb(0,t);r.rotateAround(new o.vb(0,0),2*Math.PI/24*e);var i=new o.ab;i.setFromUnitVectors(ee,a.clone().normalize());var l=new o.wb(r.x,0,r.y);return l.applyQuaternion(i),n.clone().add(l)},ne=function(e,t,n,a,r){for(var o=[],i=[],l=[],s=t.clone().sub(e),c=r/a,u=(r+s.length())/a,h=0;h<24;h++){o.push(te(h,n,e,s)),o.push(te(h,n,t,s)),o.push(te(h+1,n,e,s));var f=o[o.length-1].clone().sub(o[o.length-3]),p=o[o.length-2].clone().sub(o[o.length-3]),d=f.cross(p);i.push(d.clone().negate()),i.push(d.clone().negate()),i.push(d.clone().negate()),l.push(h/24,c,h/24,u,(h+1)/24,c),o.push(te(h,n,t,s)),o.push(te(h+1,n,t,s)),o.push(te(h+1,n,e,s)),f=o[o.length-1].clone().sub(o[o.length-3]),p=o[o.length-2].clone().sub(o[o.length-3]),d=f.cross(p),i.push(d.clone().negate()),i.push(d.clone().negate()),i.push(d.clone().negate()),l.push(h/24,u,(h+1)/24,u,(h+1)/24,c)}return{vertices:o,normals:i,uvs:l}},ae=function(e,t,n,a,r){var o=t.clone().sub(e),i=n.clone().sub(t),l=o.clone().normalize().cross(i.clone().normalize()),s=e.clone().add(i.clone().normalize().multiplyScalar(a)),c=e.clone().sub(s),u=n.clone().sub(s),h=c.clone().normalize().angleTo(u.clone().normalize());return c.clone().applyAxisAngle(l,h*r).sub(c)},re=function(e,t,n,a,r,o){for(var i=[],l=[],s=[],c=t.clone().sub(e),u=n.clone().sub(t),h=n.clone().sub(e).length(),f=0;f<16;f++)for(var p=f/16,d=p+1/16,m=ae(e,t,n,a,p),v=ae(e,t,n,a,d),g=e.clone().add(m.clone()),b=e.clone().add(v.clone()),w=c.clone().normalize().lerp(u.clone().normalize(),p),y=c.clone().normalize().lerp(u.clone().normalize(),d),P=(o+h*p)/r,x=(o+h*d)/r,_=0;_<24;_++){i.push(te(_,a,g,w)),i.push(te(_+1,a,b,y)),i.push(te(_,a,b,y));var E=i[i.length-1].clone().sub(i[i.length-3]),O=i[i.length-2].clone().sub(i[i.length-3]),j=E.cross(O).normalize();l.push(j.clone().negate()),l.push(j.clone().negate()),l.push(j.clone().negate()),s.push(_/24,P),s.push((_+1)/24,x),s.push(_/24,x),i.push(te(_,a,g,w)),i.push(te(_+1,a,g,w)),i.push(te(_+1,a,b,y)),E=i[i.length-1].clone().sub(i[i.length-3]),O=i[i.length-2].clone().sub(i[i.length-3]),j=E.cross(O).normalize(),l.push(j.clone().negate()),l.push(j.clone().negate()),l.push(j.clone().negate()),s.push((_+1)/24,P),s.push((_+1)/24,x),s.push(_/24,P)}return{vertices:i,normals:l,uvs:s}},oe=function(e){function t(){var e,n,a,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,e=!(a=q(t).call(this))||"object"!==W(a)&&"function"!=typeof a?J(n):a,$(J(e),"radius",1),$(J(e),"path",[]),$(J(e),"pathLength",.01),$(J(e),"flowControl",null),$(J(e),"animation",null),e.radius=r,e}var n,a,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Q(e,t)}(t,e),n=t,(a=[{key:"getPointInfo",value:function(e){if(!this.path[e])return null;for(var t=this.path[e].clone(),n=0,a=1;a<e;a++)n+=this.path[a].clone().sub(this.path[a-1]).length();var r,o=n+this.path[e].clone().sub(this.path[e-1]).length();return r=this.path[e+1]?this.path[e+1].clone().sub(t).normalize():t.clone().sub(this.path[e-1]).normalize(),{pos:t,dir:r,startLength:n,endLength:o,firstFragment:0===e,lastFragment:e+1===this.pathLength-1}}},{key:"getPathPoint",value:function(e){for(var t=0,n=0;n<this.path.length-1;n++){var a=this.path[n+1].clone().sub(this.path[n]).length(),r=t+a;if(r/this.pathLength>e){var o=1-(r-e*this.pathLength)/a;return{pos:this.path[n].clone().lerp(this.path[n+1].clone(),o),dir:this.path[n+1].clone().sub(this.path[n]).normalize(),firstFragment:0===n,lastFragment:n+1===this.path.length-1}}t=r}return null}},{key:"make",value:function(){var e=this;if(!(this.path.length<2)){this.clear();for(var t=this.path.reduce((function(e,t,n,a){return 0===n?0:e+t.clone().sub(a[n-1]).length()}),0),n=0,a=new o.g,r=[],l=[],s=[],c=0;c<this.path.length-1;c++){var u=this.path[c],h=this.path[c+1],f=u.clone(),p=h.clone(),d=p.clone().sub(f).normalize();c>0&&f.add(d.clone().setLength(this.radius)),c+1<this.path.length-1&&p.sub(d.clone().setLength(this.radius));var m=ne(f,p,this.radius,t,n);if(n+=u.distanceTo(p),m.vertices.forEach((function(e){var t=e.x,n=e.y,a=e.z;r.push(t,n,a)})),m.normals.forEach((function(e){var t=e.x,n=e.y,a=e.z;l.push(t,n,a)})),s.push.apply(s,Z(m.uvs)),c+1<this.path.length-1){var v=p.clone(),g=p.clone().add(d.clone().setLength(this.radius)),b=this.path[c+2].clone().sub(g).normalize(),w=g.clone().add(b.clone().multiplyScalar(this.radius));(m=re(v,g,w,this.radius,t,n)).vertices.forEach((function(e){var t=e.x,n=e.y,a=e.z;r.push(t,n,a)})),m.normals.forEach((function(e){var t=e.x,n=e.y,a=e.z;l.push(t,n,a)})),s.push.apply(s,Z(m.uvs))}}a.setAttribute("position",new o.f(new Float32Array(r),3)),a.setAttribute("normal",new o.f(new Float32Array(l),3)),a.setAttribute("uv",new o.f(new Float32Array(s),2)),this.flowControl=function(e){var t=document.createElement("canvas"),n=0;t.width=8,t.height=32;var a=t.getContext("2d"),r=new o.h(t,o.rb,o.gb,o.gb,o.A,o.B,o.db);r.repeat.setY(.25*e);var i=function(e){n=e,r.offset.setY(-e),r.needsUpdate=!0};return function(){a.fillStyle="#000000",a.fillRect(0,0,8,32);for(var e=0;e<=32;e+=8)a.fillStyle="#ffffff",a.fillRect(0,8*e,8,4);r.needsUpdate=!0}(),{map:r,setLength:function(e){var a=Math.max(8,2*o.G.ceilPowerOfTwo(e));t.width=8,t.height=a,i(n)},setProgress:i}}(t),this.pathLength=t;var y=new o.N({color:16777215,roughness:.5,metalness:1,emissive:4607,emissiveMap:this.flowControl.map,emissiveIntensity:4,envMap:S.get().env.default,side:o.o});y.needsUpdate=!0;var P=new o.J(a,y);this.add(P),this.animation=X((function(t){e.flowControl.setProgress(t)}),300,i.a.Easing.Linear.None).interpolation(i.a.Interpolation.Linear);var x=X((function(t){e.flowControl.setProgress(t)}),300,i.a.Easing.Linear.None).interpolation(i.a.Interpolation.Linear);this.animation.chain(x),x.chain(this.animation),this.animation.start()}}},{key:"clone",value:function(){var e=new t(this.radius);return e.path=this.path.map((function(e){return e.clone()})),e.make(),e}},{key:"clear",value:function(){for(;this.children.length;)this.remove(this.children[0]);this.animation&&(this.animation.stop(),this.animation=null)}},{key:"addPoint",value:function(e){this.path.push(e)}},{key:"dispose",value:function(){K(q(t.prototype),"dispose",this).call(this),this.clear()}}])&&G(n.prototype,a),r&&G(n,r),t}(o.R);function ie(e){return(ie="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function le(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],a=!0,r=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(a=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);a=!0);}catch(e){r=!0,o=e}finally{try{a||null==l.return||l.return()}finally{if(r)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function se(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function ce(e){return(ce=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ue(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function he(e,t){return(he=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function fe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var pe=function(e){function t(){var e,n,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,a=ce(t).call(this),e=!a||"object"!==ie(a)&&"function"!=typeof a?ue(n):a,fe(ue(e),"renderer",new o.Bb({logarithmicDepthBuffer:!0})),fe(ue(e),"camera",new o.T(70,window.innerWidth/window.innerHeight,.001,4e3)),fe(ue(e),"controls",new s(e.camera,e.renderer.domElement)),fe(ue(e),"scene",new o.hb),fe(ue(e),"composer",new g(e.renderer,e.scene,e.camera)),fe(ue(e),"raycaster",new o.eb),fe(ue(e),"mouse",new o.vb),fe(ue(e),"groundPlane",null),fe(ue(e),"dirLight",new o.nb(8956671,.75,0,Math.PI/2,1.99)),fe(ue(e),"clock",new o.j),fe(ue(e),"objects",{drills:[],pumps:[],smallPlants:[],bigPlants:[],port:null,ship:null}),fe(ue(e),"systemSpeed",.0025),fe(ue(e),"totalProgress",{loads:0,mainPlant:0,subPlant:0}),fe(ue(e),"tubeFlow",{prev:.2,current:.2,target:.2}),fe(ue(e),"smallPlantPower",{prev:.8,current:.8,target:.8}),fe(ue(e),"smallPlantUtil",{prev:.8,current:.8,target:.8}),fe(ue(e),"onMouseMove",(function(t){e.mouse.x=t.clientX/window.innerWidth*2-1,e.mouse.y=-t.clientY/window.innerHeight*2+1})),fe(ue(e),"onMouseDown",(function(){e.raycaster.setFromCamera(e.mouse,e.camera);for(var t=e.raycaster.intersectObjects([e.groundPlane],!0),n=0;n<t.length;n++)console.clear(),console.log(t[n].point)})),fe(ue(e),"updateSize",(function(){var t=e.canvas.parentNode;t&&(e.renderer.setPixelRatio(window.devicePixelRatio),e.camera.aspect=t.clientWidth/t.clientHeight,e.camera.updateProjectionMatrix(),v.setSize(t.clientWidth,t.clientHeight),e.renderer.setSize(t.clientWidth,t.clientHeight),e.composer.updateSize())})),fe(ue(e),"render",(function(t){requestAnimationFrame(e.render),i.a.update(t);var n=!0,a=!1,r=void 0;try{for(var o,l=e.objects.drills[Symbol.iterator]();!(n=(o=l.next()).done);n=!0){o.value.updateMixer(e.clock.getDelta())}}catch(e){a=!0,r=e}finally{try{n||null==l.return||l.return()}finally{if(a)throw r}}e.totalProgress.mainPlant=Math.min(e.totalProgress.mainPlant+e.systemSpeed,1),v.update(),e.composer.render()})),e.controls.screenSpacePanning=!1,e.controls.minDistance=4,e.controls.maxDistance=500,e.controls.maxPolarAngle=Math.PI/2,e.controls.target.set(.25,-.25,-.25),e.controls.update(),e.renderer.setPixelRatio(window.devicePixelRatio),e.renderer.toneMappingExposure=Math.pow(2,2),e.renderer.toneMapping=o.fb,e.renderer.sortObjects=!1,e.renderer.autoClear=!1,v.setCamera(e.camera),e.scene.background=new o.k("#000000"),e.scene.fog=new o.u(0,.0025),e.scene.add(e.dirLight),e.scene.add(e.dirLight.target),e.initDemoScene(),e.controls.clampInstance(e.scene,e.dirLight),e.controls.update(),e.camera.updateMatrixWorld(),e.groundPlane=new H,e.scene.add(e.groundPlane),window.addEventListener("resize",e.updateSize),window.addEventListener("mousemove",e.onMouseMove),window.addEventListener("mousedown",e.onMouseDown),requestAnimationFrame(e.render),e}var n,a,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&he(e,t)}(t,e),n=t,r=[{key:"preload",value:function(e,n){return S.load(e,n).then((function(){return new t}))}}],(a=[{key:"initDemoScene",value:function(){this.initDrills(),this.initSmallPlants(),this.initBigPlants(),this.initPort(),this.initShip(),this.initLabels()}},{key:"initLabels",value:function(){var e=this;v.addLabel(new o.wb(35,6,8),new o.vb(64,24),(function(t,n,a){var r=t.width,o=t.height;n.clearRect(0,0,r,o),n.fillStyle="#ffffff",n.roundRect(0,0,r,o,5).fill(),n.fillStyle="#000000",n.font="16px LabelRoboto",n.textAlign="center",n.textBaseline="top",n.fillText("".concat((100*e.totalProgress.mainPlant).toFixed(0),"%"),.5*r,o-20),n.fillStyle="#888888",n.fillRect(0,o-4,r,4),n.fillStyle="#0088ff",n.fillRect(0,o-4,r*e.totalProgress.mainPlant,4),a.needsUpdate=!0})),v.addLabel(new o.wb,new o.vb(48,20),(function(t,n,a,r){var o=t.width,i=t.height;e.objects.ship.children[0].getWorldPosition(r.position),r.position.y=8,r.plane.material.opacity=e.objects.ship.children[0].material.opacity,n.clearRect(0,0,o,i),n.fillStyle="#ffffff",n.roundRect(0,0,o,i,5).fill(),n.fillStyle="#000000",n.font="14px LabelRoboto",n.textAlign="center",n.textBaseline="top",n.fillText("".concat((100*e.totalProgress.loads).toFixed(0),"%"),.5*o,i-18),n.fillStyle="#888888",n.fillRect(0,i-4,o,4),n.fillStyle="#0088ff",n.fillRect(0,i-4,o*e.totalProgress.loads,4),a.needsUpdate=!0})),v.addLabel(new o.wb(-16,3,-16),new o.vb(32,20),(function(t,n,a,r){var o=t.width,i=t.height;n.clearRect(0,0,o,i),n.fillStyle="#ffffff",n.roundRect(0,0,o,i,5).fill(),n.fillStyle="#000000",n.font="14px LabelRoboto",n.textAlign="center",n.textBaseline="top",n.fillText((100*e.tubeFlow.target).toFixed(0),.5*o,i-18),n.fillStyle="#888888",n.fillRect(0,i-4,o,4),n.fillStyle="#0088ff",n.fillRect(0,i-4,o*e.tubeFlow.target,4),a.needsUpdate=!0})),v.addLabel(new o.wb(-30,14,-8),new o.vb(64,36),(function(t,n,a,r){var o=t.width,i=t.height;n.clearRect(0,0,o,i),n.fillStyle="#ffffff",n.roundRect(0,0,o,i,5).fill(),n.fillStyle="#0f9c18",n.fillRect(0,2,o*e.smallPlantPower.target,16),n.fillStyle="#0088ff",n.fillRect(0,16,o*e.smallPlantUtil.target,16),n.fillStyle="#000000",n.font="12.5px LabelRoboto",n.textAlign="center",n.textBaseline="top",n.fillText("TR-1",.5*o,4),n.fillText("Util: ".concat((100*e.smallPlantUtil.target).toFixed(0),"%"),.5*o,20),a.needsUpdate=!0})),v.addLabel(new o.wb(22,22,-31),new o.vb(128,64),(function(t,n,a,r){var o=t.width,i=t.height;n.clearRect(0,0,o,i),n.fillStyle="#ffffff",n.roundRect(0,0,o,i,5).fill(),n.fillStyle="#888888",n.fillRect(4,4,58,16),n.fillRect(4,24,58,16),n.fillRect(66,4,58,16),n.fillRect(66,24,58,16),n.fillRect(0,48,o,16);var l=e.smallPlantPower.target,s=(e.smallPlantPower.target+e.tubeFlow.target)/2,c=(l+s+e.totalProgress.loads)/3,u=(l+s+c)/3,h=(e.smallPlantUtil.target+l+s+c+u+e.totalProgress.mainPlant)/6;n.fillStyle="#0f9c18",n.fillRect(4,4,58*l,16),n.fillRect(4,24,58*s,16),n.fillRect(66,4,58*c,16),n.fillRect(66,24,58*u,16),n.fillStyle="#0088ff",n.fillRect(0,48,o*h,16),n.fillStyle="#000000",n.font="12.5px LabelRoboto",n.textAlign="center",n.textBaseline="top",n.fillText("TR-1",34,8),n.fillText("TR-2",94,8),n.fillText("TR-3",34,28),n.fillText("TR-4",94,28),n.fillText("Util: ".concat((100*h).toFixed(0),"%"),.5*o,52),a.needsUpdate=!0}))}},{key:"initShip",value:function(){var e=this,t=new o.v,n=new F(this.resources.models.ship);n.scale.set(.05,.05,.05),n.position.set(47,.5,33);var a=new i.a.Tween([0]).to([1],1e3).onUpdate((function(a){var r=le(a,1)[0];t.position.x=16*(1-r),n.material.opacity=r,e.tubeFlow.target=e.tubeFlow.prev+(e.tubeFlow.current-e.tubeFlow.prev)*r,e.smallPlantPower.target=e.smallPlantPower.prev+(e.smallPlantPower.current-e.smallPlantPower.prev)*r,e.smallPlantUtil.target=e.smallPlantUtil.prev+(e.smallPlantUtil.current-e.smallPlantUtil.prev)*r})).onStart((function(){e.tubeFlow.prev=e.tubeFlow.target,e.tubeFlow.current=.4+Math.round(40*Math.random())/100,e.smallPlantPower.prev=e.smallPlantPower.target,e.smallPlantPower.current=.6+Math.round(40*Math.random())/100,e.smallPlantUtil.prev=e.smallPlantUtil.target,e.smallPlantUtil.current=.7+Math.round(30*Math.random())/100})).easing(i.a.Easing.Quadratic.Out).interpolation(i.a.Interpolation.Bezier),r=new i.a.Tween([0]).to([1],2e3).onUpdate((function(t){var n=le(t,1)[0];e.totalProgress.loads=n,e.totalProgress.mainPlant=Math.max(e.totalProgress.mainPlant-2*e.systemSpeed,0),e.tubeFlow.target=e.tubeFlow.prev+(e.tubeFlow.current-e.tubeFlow.prev)*n,e.smallPlantPower.target=e.smallPlantPower.prev+(e.smallPlantPower.current-e.smallPlantPower.prev)*n,e.smallPlantUtil.target=e.smallPlantUtil.prev+(e.smallPlantUtil.current-e.smallPlantUtil.prev)*n})).onStart((function(){e.tubeFlow.prev=e.tubeFlow.target,e.tubeFlow.current=.5+Math.round(50*Math.random())/100,e.smallPlantPower.prev=e.smallPlantPower.target,e.smallPlantPower.current=.8+Math.round(20*Math.random())/100,e.smallPlantUtil.prev=e.smallPlantUtil.target,e.smallPlantUtil.current=.9+Math.round(10*Math.random())/100})),l=new i.a.Tween([0]).to([1],1e3).onUpdate((function(a){var r=le(a,1)[0];t.position.x=-16*r,n.material.opacity=1-r,e.totalProgress.loads=1-r,e.tubeFlow.target=e.tubeFlow.prev+(e.tubeFlow.current-e.tubeFlow.prev)*r,e.smallPlantPower.target=e.smallPlantPower.prev+(e.smallPlantPower.current-e.smallPlantPower.prev)*r,e.smallPlantUtil.target=e.smallPlantUtil.prev+(e.smallPlantUtil.current-e.smallPlantUtil.prev)*r})).onStart((function(){e.tubeFlow.prev=e.tubeFlow.target,e.tubeFlow.current=.1+Math.round(20*Math.random())/100,e.smallPlantPower.prev=e.smallPlantPower.target,e.smallPlantPower.current=.5+Math.round(50*Math.random())/100,e.smallPlantUtil.prev=e.smallPlantUtil.target,e.smallPlantUtil.current=.6+Math.round(40*Math.random())/100})).easing(i.a.Easing.Quadratic.In).interpolation(i.a.Interpolation.Bezier),s=new i.a.Tween([0]).to([1],2e3).onUpdate((function(t){var n=le(t,1)[0];e.tubeFlow.target=e.tubeFlow.prev+(e.tubeFlow.current-e.tubeFlow.prev)*n,e.smallPlantPower.target=e.smallPlantPower.prev+(e.smallPlantPower.current-e.smallPlantPower.prev)*n,e.smallPlantUtil.target=e.smallPlantUtil.prev+(e.smallPlantUtil.current-e.smallPlantUtil.prev)*n})).onStart((function(){e.tubeFlow.prev=e.tubeFlow.target,e.tubeFlow.current=.2+Math.round(20*Math.random())/100,e.smallPlantPower.prev=e.smallPlantPower.target,e.smallPlantPower.current=.5+Math.round(50*Math.random())/100,e.smallPlantUtil.prev=e.smallPlantUtil.target,e.smallPlantUtil.current=.6+Math.round(40*Math.random())/100}));a.chain(r),r.chain(l),l.chain(s),s.chain(a),a.start(),t.add(n),this.scene.add(t),this.objects.ship=t}},{key:"initPort",value:function(){var e=new F(this.resources.models.port);e.scale.set(.05,.05,.05),e.rotation.y=.5*Math.PI,e.position.set(35,0,16),this.scene.add(e)}},{key:"initBigPlants",value:function(){var e=new F(this.resources.models.largePlant);e.scale.set(24,24,24),e.rotation.y=.5*-Math.PI,e.position.set(22,-24,-31);var t=new oe(.5);t.addPoint(new o.wb(19.5,1,-26)),t.addPoint(new o.wb(19.5,1,-8)),t.addPoint(new o.wb(30,1,-8)),t.addPoint(new o.wb(30,1,0)),t.addPoint(new o.wb(30,-1,0)),t.make(),this.scene.add(e),this.scene.add(t),this.objects.bigPlants.push(e)}},{key:"initSmallPlants",value:function(){var e=new F(this.resources.models.smallPlant);e.scale.set(14,14,14),e.position.set(-30,-14,-8);var t=new oe(.3);t.addPoint(new o.wb(-27,.45,-6)),t.addPoint(new o.wb(-20,.45,-6)),t.addPoint(new o.wb(-20,.45,-16)),t.addPoint(new o.wb(-12,.45,-16)),t.addPoint(new o.wb(-12,.45,-30)),t.addPoint(new o.wb(18,.45,-30)),t.make(),this.scene.add(e),this.scene.add(t)}},{key:"initDrills",value:function(){var e=new F(this.resources.models.drill);e.scale.set(2e-4,2e-4,2e-4),e.rotation.y=.5*-Math.PI,e.position.set(-34,0,3),e.play();var t=new oe(.1);t.addPoint(new o.wb(-33,.1,3.2)),t.addPoint(new o.wb(-27,.1,3.2)),t.addPoint(new o.wb(-27,.1,-6)),t.addPoint(new o.wb(-24,.1,-6)),t.make();var n=new F(this.resources.models.drill);n.scale.set(2e-4,2e-4,2e-4),n.position.set(-33,0,6),n.rotation.y=.5*-Math.PI,n.animationOffset=.3,n.play();var a=new oe(.1);a.addPoint(new o.wb(-32,.1,6.1)),a.addPoint(new o.wb(-26.8,.1,6.1)),a.addPoint(new o.wb(-26.8,.1,-5.8)),a.addPoint(new o.wb(-24,.1,-5.8)),a.make();var r=new o.v;r.add(e),r.add(n),this.objects.drills.push(e,n),r.add(t),r.add(a),r.position.x=-8,this.scene.add(r)}},{key:"dispose",value:function(){cancelAnimationFrame(this.render),window.removeEventListener("resize",this.updateSize),window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("mousedown",this.onMouseDown)}},{key:"canvas",get:function(){return this.renderer.domElement}},{key:"resources",get:function(){return S.get()}}])&&se(n.prototype,a),r&&se(n,r),t}(r.a);t.default=pe}}]);